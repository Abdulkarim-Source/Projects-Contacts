<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"><title>ŸÑŸàÿ≠ÿ© ŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ¥ÿ±ŸÉÿ©</title><style>:root{--bg:#FFFFFF;--card:#FFFFFF;--primary:#305c43;--accent:#ec8737;--text:#1A1A1A;--muted:#1A1A1A;--border:#E0E0E0;--radius:18px;--shadow:0 10px 30px rgba(15,23,42,.06);}body.dark{--bg:#1A1A1A;--card:#2A2A2A;--primary:#ec8737;--accent:#ec8737;--text:#fff;--muted:#ccc;--border:#444;}body.dark{--bs-body-bg:#1A1A1A;--bs-body-color:#fff;--bs-border-color:#444;}.btn-outline-primary,.btn-outline-secondary{border-width:2px;border-radius:10px;}body.dark .contract-box{background-color:var(--card);color:var(--text);border:1px solid var(--border);}.site-header{background:var(--primary);color:#fff;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;}.header-center{flex:1;text-align:center;display:flex;flex-direction:column;align-items:center;}.header-actions{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:10px;direction:ltr;flex-direction:row;}.header-actions .icon-btn{width:50px;height:50px;padding:0;flex:0 0 50px;display:inline-flex;align-items:center;justify-content:center;}.header-actions #langFlag{width:28px;height:20px;display:block;object-fit:cover;}.btn{flex:1;padding:10px;border-radius:12px;border:none;...}.actions .btn{flex:1;padding:10px;border-radius:12px;border:none;cursor:pointer;font-size:13px;font-weight:600;transition:.3s;}.icon-btn{width:50px;height:50px;padding:0;border-width:2px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;flex:0 0 auto;}.icon-btn img{width:28px;height:20px;display:block;object-fit:cover;}.site-footer{background:#f9fafb;color:var(--muted);padding:10px 16px;font-size:12px;text-align:center;border-top:1px solid var(--border);}*{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Tahoma,Arial,sans-serif;}body{background:var(--bg);color:var(--text);line-height:1.6;}.page-wrapper{max-width:1500px;width:100%;margin:24px auto;padding:0 40px 60px;}@media (max-width:768px){.page-wrapper{padding:0 24px 40px;}@media(min-width:640px){.summary-bar{grid-template-columns:repeat(3,1fr);}.content-grid{grid-template-columns:repeat(2,1fr);}}@media(min-width:1024px){.content-grid{grid-template-columns:repeat(3,1fr);}}@media (min-width:1200px){.project-title{font-size:16px;}.info-row{font-size:14px;}.contract-value{font-size:20px;}.summary-value{font-size:20px;}}@media(min-width:1400px){.content-grid{grid-template-columns:repeat(4,1fr);}}}.toolbar{display:flex;flex-wrap:wrap;gap:14px;justify-content:space-between;align-items:center;margin-bottom:20px;}.search-box{position:relative;}.search-box input{padding:10px 36px 10px 14px;border-radius:999px;border:1px solid var(--border);background:var(--card);min-width:240px;font-size:14px;outline:none;transition:.3s;}.search-box input:focus{border-color:var(--primary);box-shadow:0 0 0 4px rgba(48,92,67,.1);}.search-box span{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:var(--muted);}.status-pill{font-size:13px;color:var(--muted);}.status-pill strong{color:var(--primary);}.summary-bar{display:grid;grid-template-columns:1fr;gap:14px;margin-bottom:24px;}.summary-item{background:var(--card);border:1px solid rgba(236,135,55,.35);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);}.summary-label{font-size:12px;color:var(--muted);margin-bottom:6px;}.summary-value{font-size:18px;font-weight:700;color:var(--primary);}.content-grid{display:grid;grid-template-columns:1fr;gap:20px;}@media(min-width:640px){.summary-bar{grid-template-columns:repeat(3,1fr);}.content-grid{grid-template-columns:repeat(2,1fr);}}@media(min-width:1024px){.content-grid{grid-template-columns:repeat(3,1fr);}}@media(min-width:1400px){.content-grid{grid-template-columns:repeat(4,1fr);}}.project-card{background:var(--card);border-radius:var(--radius);padding:22px;border:1px solid rgba(236,135,55,.35);box-shadow:var(--shadow);transition:.3s;display:flex;flex-direction:column;gap:14px;}.project-card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(15,23,42,.1);}.project-header{display:flex;justify-content:space-between;align-items:center;gap:12px;}.project-title{font-weight:600;font-size:15px;flex:1;}.project-image-wrapper{width:70px;height:70px;border-radius:16px;overflow:hidden;border:1px solid rgba(236,135,55,.35);cursor:pointer;transition:.3s;background:#FFFFFF;display:flex;align-items:center;justify-content:center;position:relative;}.project-image-wrapper:hover{transform:scale(1.05);}.project-image-wrapper img{width:100%;height:100%;object-fit:cover;}.initials{display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-weight:700;font-size:22px;color:var(--primary);position:absolute;}.info-row{display:flex;justify-content:space-between;font-size:13px;}.info-label{color:var(--muted);}.info-value{font-weight:500;}.contract-box{background:#FFFFFF;border:1px solid rgba(236,135,55,.35);border-radius:12px;padding:12px;text-align:center;}.contract-label{font-size:12px;color:var(--muted);}.contract-value{font-size:18px;font-weight:800;color:var(--accent);}.actions{display:flex;gap:10px;}.btn{flex:1;padding:10px;border-radius:12px;border:none;cursor:pointer;font-size:13px;font-weight:600;transition:.3s;}.btn-call{background:#ec8737;color:#FFFFFF;}.call-icon{color:#fff;}.btn-whatsapp{background:var(--primary);color:#FFFFFF;}.btn:hover{transform:translateY(-2px);}.btn-details{background:#FFFFFF;color:var(--text);border:1px solid var(--border);margin-top:6px;width:100%;}.image-modal-backdrop{display:none;position:fixed;inset:0;background:rgba(15,23,42,.7);justify-content:center;align-items:center;z-index:1000;}.image-modal-content img{max-width:90vw;max-height:90vh;}.lang-btn{background:#ec8737;color:#fff;font-weight:700;border-radius:14px;}.lang-btn img{width:20px;height:14px;vertical-align:middle;}.search-box{flex:1;min-width:0;}.search-box input{width:100%;min-width:0;}.content-grid{display:grid;gap:20px;grid-template-columns:repeat(4,minmax(280px,1fr));}@media (max-width:1200px){.content-grid{grid-template-columns:repeat(3,minmax(260px,1fr));}}@media (max-width:900px){.content-grid{grid-template-columns:repeat(2,minmax(240px,1fr));}}@media (max-width:560px){.content-grid{grid-template-columns:1fr;}}.content-grid{display:grid;gap:22px;grid-template-columns:1fr;}@media (min-width:720px){.content-grid{grid-template-columns:repeat(2,minmax(320px,1fr));}}@media (min-width:1100px){.content-grid{grid-template-columns:repeat(3,minmax(320px,1fr));}}@media (min-width:1500px){.content-grid{grid-template-columns:repeat(4,minmax(340px,1fr));}}#mainTitle{font-size:clamp(22px,2.2vw,34px);line-height:1.15;}#mainSubtitle{font-size:clamp(12px,1.1vw,15px);}.project-title{font-size:clamp(14px,1.1vw,16px);}.contract-value{font-size:clamp(16px,1.3vw,20px);}.summary-value{font-size:clamp(18px,1.3vw,22px);}}.page-wrapper{margin-inline:48px;padding:0 16px 60px;}.search-box{flex:1 1 100%;min-width:0;}.search-box input{width:100%;min-width:0;}@media (min-width:992px){.search-box{flex:0 0 25%;max-width:25%;}}</style></head><body><div class="site-header"><div class="header-center"><h1 id="mainTitle">ŸÑŸàÿ≠ÿ© ŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ¥ÿ±ŸÉÿ©</h1><p id="mainSubtitle">ÿπÿ±ÿ∂ ÿ≠ÿØŸäÿ´ Ÿàÿ≥ÿ±Ÿäÿπ ŸÑŸÖÿØŸäÿ±Ÿä ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ŸàŸÇŸäŸÖ ÿßŸÑÿπŸÇŸàÿØ</p><div class="header-actions"><button id="langToggle" class="btn btn-outline-primary icon-btn" type="button"><img id="langFlag" src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_the_United_Kingdom.svg" alt="Flag"></button><button id="themeToggle" class="btn btn-outline-secondary icon-btn" type="button"><i id="themeIcon" class="bi bi-sun-fill" style="font-size:20px;"></i></button></div></div></div><div class="page-wrapper"><div class="toolbar"><div class="search-box"><input type="text" id="searchInput" placeholder="ÿ®ÿ≠ÿ´ ÿ®ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ ÿ£Ÿà ÿßŸÑŸÖÿØŸäÿ±..." /><span>üîç</span></div><div class="status-pill"><span id="totalProjectsLabel"></span>: <strong id="totalCount">0</strong> | <span id="totalContractsLabel"></span>: <strong id="totalValue">0</strong></div></div><div class="summary-bar"><div class="summary-item"><div class="summary-label" id="maxContractLabel"></div><div class="summary-value" id="maxContract">0</div></div><div class="summary-item"><div class="summary-label" id="minContractLabel"></div><div class="summary-value" id="minContract">0</div></div><div class="summary-item"><div class="summary-label" id="avgContractLabel"></div><div class="summary-value" id="avgContract">0</div></div></div><div id="projectsContainer" class="content-grid"></div><div id="emptyState" style="display:none;text-align:center;margin-top:30px;color:var(--muted);">
ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸÖÿ∑ÿßÿ®ŸÇÿ©
</div></div><div id="imageModal" class="image-modal-backdrop" onclick="closeImageModal(event)"><div class="image-modal-content"><img id="imageModalImg" src="" /></div></div><div class="site-footer"> ¬© 2026 ÿ¥ÿ±ŸÉÿ© ÿ®ÿ¥ÿßÿ¶ÿ± ÿßŸÑÿ®ŸÜÿßÿ° ŸÑŸÑŸÖŸÇÿßŸàŸÑÿßÿ™ ‚Äì ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©
</div><script>const i18n = {
  ar: {
    lang: "ar",
    dir: "rtl",
    title: "ŸÑŸàÿ≠ÿ© ŸÖÿ¥ÿßÿ±Ÿäÿπ ÿßŸÑÿ¥ÿ±ŸÉÿ©",
    subtitle: "ÿπÿ±ÿ∂ ÿ≠ÿØŸäÿ´ Ÿàÿ≥ÿ±Ÿäÿπ ŸÑŸÖÿØŸäÿ±Ÿä ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ ŸàŸÇŸäŸÖ ÿßŸÑÿπŸÇŸàÿØ",
    searchPlaceholder: "ÿ®ÿ≠ÿ´ ÿ®ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ ÿ£Ÿà ÿßŸÑŸÖÿØŸäÿ±...",
    totalProjects: "ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸÖÿ¥ÿßÿ±Ÿäÿπ",
    totalContracts: "ŸÖÿ¨ŸÖŸàÿπ ÿßŸÑÿπŸÇŸàÿØ",
    maxContract: "ÿ£ÿπŸÑŸâ ŸÇŸäŸÖÿ© ÿπŸÇÿØ",
    minContract: "ÿ£ŸÇŸÑ ŸÇŸäŸÖÿ© ÿπŸÇÿØ",
    avgContract: "ŸÖÿ™Ÿàÿ≥ÿ∑ ŸÇŸäŸÖÿ© ÿßŸÑÿπŸÇŸàÿØ",
    managerLabel: "ŸÖÿØŸäÿ± ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ",
    contractLabel: "ŸÇŸäŸÖÿ© ÿßŸÑÿπŸÇÿØ",
    callBtn: "ÿßÿ™ÿµÿßŸÑ",
    whatsappBtn: "üí¨ Ÿàÿßÿ™ÿ≥ÿßÿ®",
    noResults: "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨ ŸÖÿ∑ÿßÿ®ŸÇÿ©"
  },
  en: {
    lang: "en",
    dir: "ltr",
    title: "Company Projects Dashboard",
    subtitle: "Quick overview of project managers and contract values",
    searchPlaceholder: "Search by project or manager...",
    totalProjects: "Total Projects",
    totalContracts: "Total Contracts",
    maxContract: "Max Contract Value",
    minContract: "Min Contract Value",
    avgContract: "Average Contract Value",
    managerLabel: "Project Manager",
    contractLabel: "Contract Value",
    callBtn: "Call",
    whatsappBtn: "üí¨ WhatsApp",
    noResults: "No matching results"
  }
};
let currentLang = localStorage.getItem("selectedLang") || "ar";

function setLanguage(lang) {
  currentLang = lang;

  localStorage.setItem("selectedLang", lang);

  const texts = i18n[lang];

  document.documentElement.lang = texts.lang;
  document.documentElement.dir = texts.dir;

  document.querySelector(".site-header h1").textContent = texts.title;
  document.querySelector(".site-header p").textContent = texts.subtitle;
  document.getElementById("searchInput").placeholder = texts.searchPlaceholder;

  document.querySelectorAll(".summary-item")[0]
    .querySelector(".summary-label").textContent = texts.maxContract;

  document.querySelectorAll(".summary-item")[1]
    .querySelector(".summary-label").textContent = texts.minContract;

  document.querySelectorAll(".summary-item")[2]
    .querySelector(".summary-label").textContent = texts.avgContract;

  document.getElementById("totalProjectsLabel").textContent = texts.totalProjects;
  document.getElementById("totalContractsLabel").textContent = texts.totalContracts;

  document.getElementById("langFlag").src = (lang === "ar")
    ? "https://upload.wikimedia.org/wikipedia/commons/8/83/Flag_of_the_United_Kingdom_%283-5%29.svg"
    : "https://upload.wikimedia.org/wikipedia/commons/0/0d/Flag_of_Saudi_Arabia.svg";

  renderProjects(projects);
  updateSummary(projects);
}

const managerImages = {
    "ÿ±ÿßŸÖŸä ÿπŸäÿØ ÿπÿ®ÿØ ÿßŸÑŸáÿßÿØŸä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿ±ÿßŸÖŸä-ÿπŸäÿØ-ÿπÿ®ÿØ-ÿßŸÑŸáÿßÿØŸä.jpg",
    "ÿßÿ≠ŸÖÿØ ŸÇÿßÿπŸàÿØ ŸÖÿ≠ŸÖÿØ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿßÿ≠ŸÖÿØ-ŸÇÿßÿπŸàÿØ-ŸÖÿ≠ŸÖÿØ.jpg",
    "ÿ£ÿ≠ŸÖÿØ ÿ≠ŸÖÿØŸä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿ£ÿ≠ŸÖÿØ-ÿ≠ŸÖÿØŸä.jpg",
    "ÿ£ÿ≠ŸÖÿØ ŸÅŸàÿ≤Ÿä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿ£ÿ≠ŸÖÿØ-ŸÅŸàÿ≤Ÿä.jpg",
    "ÿßÿ≥ŸÑÿßŸÖ ÿ∑Ÿá ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿßÿ≥ŸÑÿßŸÖ-ÿ∑Ÿá.jpg",
    "ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿ≤Ÿáÿ±ÿßŸÜ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ-ÿ≤Ÿáÿ±ÿßŸÜ.jpg",
    "ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿµÿ®ÿ≠Ÿä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ-ÿµÿ®ÿ≠Ÿä.jpg",
    "ŸÖÿ≠ŸÖÿØ ÿ¨ŸÖÿßŸÑ ÿßŸÑÿ≥ÿ®ÿ±Ÿàÿ∑": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖÿØ-ÿ¨ŸÖÿßŸÑ-ÿßŸÑÿ≥ÿ®ÿ±Ÿàÿ∑.jpg",
    "ŸÖÿ≠ŸÖÿØ ŸÇÿßÿπŸàÿØ ŸÖÿ≠ŸÖÿØ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖÿØ-ŸÇÿßÿπŸàÿØ.jpg",
    "ŸÖÿ≠ŸÖŸàÿØ ÿ≠ÿ®Ÿäÿ®": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖŸàÿØ-ÿ≠ÿ®Ÿäÿ®.jpg",
    "ŸÖÿ≠ŸÖŸàÿØ ŸÜÿµÿ±": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖŸàÿØ-ŸÜÿµÿ±.jpg",
    "ŸÖÿµÿ∑ŸÅŸâ ÿÆÿ∂ÿ±": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿµÿ∑ŸÅŸâ-ÿÆÿ∂ÿ±.jpg",
    "ÿ∑ÿßÿ±ŸÇ ŸÜÿ¨ÿßÿ™Ÿä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ÿ∑ÿßÿ±ŸÇ-ŸÜÿ¨ÿßÿ™Ÿä.jpg",
    "ŸÖÿ≠ŸÖÿØ ÿßŸÑÿ≥ÿ≠ÿ±ÿßŸàŸä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖÿØ-ÿßŸÑÿ≥ÿ≠ÿ±ÿßŸàŸä.jpg",
    "ŸÖŸÜÿµŸàÿ± ÿπŸÑŸä": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖŸÜÿµŸàÿ±-ÿπŸÑŸä.jpg",
    "ŸÖÿ≠ŸÖŸàÿØ ÿ≥ÿπŸäÿØ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖŸàÿØ-ÿ≥ÿπŸäÿØ.jpg",
    "ŸÖÿ≠ŸÖÿØ ÿπÿ∑ŸàÿßŸÜ": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖÿØ-ÿπÿ∑ŸàÿßŸÜ.jpg",
    "ŸÖÿ≠ŸÖŸàÿØ ŸÅŸäÿßÿ∂": "https://raw.githubusercontent.com/Abdulkarim-Source/Projects-Contacts/refs/heads/main/ŸÖÿ≠ŸÖŸàÿØ-ŸÅŸäÿßÿ∂.jpg"
};

const projects = [
  {
    names: { ar: "ÿßÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿ•ÿ≥ŸÉÿßŸÜ ŸÖŸàÿ∏ŸÅŸä ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸàÿßÿ≥ÿßÿ© ( ÿßŸÑŸÖÿØŸäŸÜÿ©)", en: "Completion of the Staff Housing for Al-Mouwasat Hospital (Madinah)" },
    managers: { ar: "ÿ±ÿßŸÖŸä ÿπŸäÿØ ÿπÿ®ÿØ ÿßŸÑŸáÿßÿØŸä", en: "Rami Eid Abdulhadi" },
    phone: "541168948",
    value: 49432843.15
  },
  {
    names: { ar: "ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ¥ÿ±Ÿàÿπ ÿßŸÑŸÖÿ®ŸÜŸâ ÿßŸÑÿ≥ŸÉŸÜŸä ŸÑŸÖŸàÿ∏ŸÅŸä ÿßŸÑŸÖŸàÿßÿ≥ÿßÿ© (ŸäŸÜÿ®ÿπ)", en: "Construction of the Staff Residential Building Project for Al-Mouwasat (Yanbu)" },
    managers: { ar: "ÿßÿ≠ŸÖÿØ ŸÇÿßÿπŸàÿØ ŸÖÿ≠ŸÖÿØ", en: "Ahmed Qaoud Mohammed" },
    phone: "507768409",
    value: 31003934.45
  },
  {
    names: { ar: "ÿßÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÜÿ¥ÿßÿ° ŸÖŸÇÿ± ŸÜÿßÿØŸä ÿßŸÑÿ¥ÿ±ŸÇ ÿßŸÑÿØŸÑŸÖ", en: "Completion of Construction Works for the Headquarters of Al-Sharq Club, Al-Dilam" },
    managers: { ar: "ŸÖŸÜÿµŸàÿ± ÿπŸÑŸä", en: "Mansour Ali" },
    phone: "502751043",
    value: 53010770.50
  },
  {
    names: { ar: "ÿßÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿ£ÿπŸÖÿßŸÑ ŸÖÿ®ŸÜŸâ ÿßŸÑÿØŸàÿßÿ¶ÿ± ÿßŸÑÿ≠ŸÉŸàŸÖŸäÿ© ÿ®ŸÖŸäŸÜÿßÿ° ÿßŸÑŸÖŸÑŸÉ ÿπÿ®ÿØÿßŸÑÿπÿ≤Ÿäÿ≤ ÿ®ÿßŸÑÿØŸÖÿßŸÖ", en: "Completion of Works for the Government Departments Building at King Abdulaziz Port, Dammam" },
    managers: { ar: "ŸÖÿ≠ŸÖŸàÿØ ŸÅŸäÿßÿ∂", en: "Mahmoud Fayyad" },
    phone: "594118590",
    value: 4801169.50
  },
  {
    names: { ar: "ÿ™ÿ∑ŸàŸäÿ± ŸÇÿßÿπÿ© ÿßŸÑŸÉÿ™ÿ® ÿßŸÑŸÜÿßÿØÿ±ÿ© ŸàŸÇÿßÿπÿ© ŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑŸÜÿ®ŸàŸä", en: "Upgrading of the Rare Books Hall and the Library Hall at Al-Masjid an-Nabawi (Prophet's Mosque)" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿ¨ŸÖÿßŸÑ ÿßŸÑÿ≥ÿ®ÿ±Ÿàÿ∑", en: "Mohammed Jamal Al-Sabroot" },
    phone: "594109443",
    value: 2293991.25
  },
  {
    names: { ar: "ÿ™ÿ£ŸáŸäŸÑ ÿßŸÑŸÖÿ®ŸÜŸâ ÿßŸÑÿ¨ŸÜŸàÿ®Ÿä ÿ±ŸÇŸÖ (6) ÿ®ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑŸÜÿ®ŸàŸä", en: "Rehabilitation of the Southern Building No. (6) at Al-Masjid an-Nabawi (Prophet's Mosque)" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿ¨ŸÖÿßŸÑ ÿßŸÑÿ≥ÿ®ÿ±Ÿàÿ∑", en: "Mohammed Jamal Al-Sabroot" },
    phone: "594109443",
    value: 4972723.63
  },
  {
    names: { ar: "ÿßÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿßŸÜÿ¥ÿßÿ° ŸÖŸÇÿ± ŸÜÿßÿØŸä ÿßŸÑÿπÿ±ÿ∂ ÿ®ÿßŸÑŸÇŸàŸäÿπŸäÿ©", en: "Completion of Construction of the Headquarters of Al-Ard Club, Al-Quway'iyah" },
    managers: { ar: "ŸÖÿ≠ŸÖŸàÿØ ÿ≤ŸäŸÜ", en: "Mahmoud Zain" },
    phone: "501793455",
    value: 55888358.89
  },
  {
    names: { ar: "ÿÆÿØŸÖÿßÿ™ ÿ•ÿØÿßÿ±ÿ© ŸàÿµŸäÿßŸÜÿ© ÿßŸÑŸÖÿ±ÿßŸÅŸÇ ŸàÿßŸÑŸÜÿ∏ÿßŸÅÿ© ŸàÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ŸÜÿßÿØŸä ÿßŸÑÿµŸÇŸàÿ±", en: "Facility Management and Maintenance, Cleaning, and Operation Services for Nadi Al Suqoor (Falcon Club)" },
    managers: { ar: "ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿµÿ®ÿ≠Ÿä", en: "Abdulrahman Sobhi" },
    phone: "580774713",
    value: 15745800.00
  },
  {
    names: { ar: "ŸÖÿ¥ÿ±Ÿàÿπ ÿÆÿßÿØŸÖ ÿßŸÑÿ≠ÿ±ŸÖŸäŸÜ ÿßŸÑÿ¥ÿ±ŸäŸÅŸäŸÜ ŸÑŸÑÿ™ÿ±ÿ¨ŸÖÿ© ÿßŸÑŸÅŸàÿ±Ÿäÿ© ÿ®ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑŸÜÿ®ŸàŸä", en: "Custodian of the Two Holy Mosques Project for Simultaneous Interpretation at Al-Masjid an-Nabawi (Prophet's Mosque)" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿ¨ŸÖÿßŸÑ ÿßŸÑÿ≥ÿ®ÿ±Ÿàÿ∑", en: "Mohammed Jamal Al-Sabroot" },
    phone: "594109443",
    value: 10429358.29
  },
  {
    names: { ar: "ÿ™ÿ£ŸáŸäŸÑ Ÿàÿ™ÿ¨ŸáŸäÿ≤ ŸÖÿ±ÿßŸÉÿ≤ ÿÆÿØŸÖÿ© ÿßŸÑÿπŸÖŸÑÿßÿ° ÿßŸÑÿ™ÿßÿ®ÿπÿ© ŸÑÿßŸÖÿßŸÜÿ© ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ©", en: "Rehabilitation and Fit-Out of Customer Service Centers under the Al Madinah Region Municipality" },
    managers: { ar: "ÿ£ÿ≠ŸÖÿØ ŸÅŸàÿ≤Ÿä", en: "Ahmed Fawzi" },
    phone: "555024947",
    value: 2913238.00
  },
  {
    names: { ar: "ÿ™ÿ∑ŸàŸäÿ± ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ£ŸÖŸÜ ŸàÿßŸÑÿ≥ŸÑÿßŸÖÿ© ŸàŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑÿ≠ÿ±ŸäŸÇ ŸÑŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑÿ£ŸÖŸäÿ± ÿπÿ®ÿØÿßŸÑŸÖÿ≠ÿ≥ŸÜ ÿ®ÿßŸÑÿπŸÑÿß", en: "Upgrade of Security and Safety Systems and Fire Zones for Prince Abdulmohsen Hospital, AlUla" },
    managers: { ar: "ŸÖÿ≠ŸÖŸàÿØ ÿ≠ÿ®Ÿäÿ®", en: "Mahmoud Habib" },
    phone: "550835925",
    value: 4495033.75
  },
  {
    names: { ar: "ÿ™ÿ£ŸáŸäŸÑ ÿ¨ÿßŸÖÿπ ÿπÿßÿ¶ÿ¥ÿ© ÿßŸÑÿ±ÿßÿ¨ÿ≠Ÿä ŸÖŸÉÿ© ŸàŸÖŸÑÿ≠ŸÇÿßÿ™Ÿá - ŸÖŸÉÿ© ÿßŸÑŸÖŸÉÿ±ŸÖÿ©", en: "Rehabilitation of Aisha Al Rajhi Mosque, Makkah, and its Ancillary Facilities - Makkah Al Mukarramah" },
    managers: { ar: "ŸÖÿµÿ∑ŸÅŸâ ÿÆÿ∂ÿ±", en: "Mostafa Khodr" },
    phone: "568846328",
    value: 6058269.00
  },
  {
    names: { ar: "ÿßŸÑÿπŸÇÿØ ÿßŸÑŸÖŸàÿ≠ÿØ ŸÑÿµŸäÿßŸÜÿ© ÿßŸÑŸàÿ≠ÿØÿßÿ™ ÿßŸÑÿ≥ŸÉŸÜŸäÿ© (ÿ¨ŸÖŸäÿπ ŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑŸÖŸÖŸÑŸÉÿ©)", en: "Unified Contract for Maintenance of Residential Units (All Regions of the Kingdom)" },
    managers: { ar: "ŸÖÿ≠ŸÖŸàÿØ ÿ≥ÿπŸäÿØ", en: "Mahmoud Saeed" },
    phone: "582985458",
    value: 18090247.50
  },
  {
    names: { ar: "Ÿàÿ±ÿ¥ÿ© ÿµŸäÿßŸÜÿ© ÿßŸÑŸÖÿπÿØÿßÿ™ ÿ®ŸÖÿ∑ÿßÿ± ÿßŸÑÿØŸÖÿßŸÖ GSE Workshop", en: "Equipment Maintenance Workshop at Dammam Airport (GSE Workshop)" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿßŸÑÿ≥ÿ≠ÿ±ÿßŸàŸä", en: "Mohammed Al-Sahrawi" },
    phone: "550758051",
    value: 25300000.00
  },
  {
    names: { ar: "ÿßÿ™ŸÅÿßŸÇŸäÿ© ÿ™ÿ±ŸÖŸäŸÖ Ÿàÿ™ÿ∑ŸàŸäÿ± ÿßŸÑŸÖÿ®ÿßŸÜŸä ÿßŸÑÿ•ÿØÿßÿ±Ÿäÿ© ŸàÿßŸÑŸÖÿ±ÿßŸÅŸÇ ÿßŸÑÿπÿßŸÖÿ©", en: "Agreement for Restoration and Upgrading of Administrative Buildings and Public Facilities" },
    managers: { ar: "ŸÖÿ≠ŸÖŸàÿØ ŸÜÿµÿ±", en: "Mahmoud Nasr" },
    phone: "568958968",
    value: 32652599.97
  },
  {
    names: { ar: "ÿ•ÿ≥ÿ™ŸÉŸÖÿßŸÑ ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ®ŸÜŸâ ÿßŸÑÿπŸÖÿßÿØÿßÿ™ ÿßŸÑŸÖÿ≥ÿßŸÜÿØÿ©", en: "Completion of Construction of the Supporting Deanships Building" },
    managers: { ar: "ÿ£ÿ≠ŸÖÿØ ŸÅŸàÿ≤Ÿä", en: "Ahmed Fawzi" },
    phone: "555024947",
    value: 56899685.05
  },
  {
    names: { ar: "ÿ•ŸÜÿ¥ÿßÿ° ÿπÿØÿØ 2 ÿ∫ÿ±ŸÅ ÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÉŸáÿ±ÿ®ÿßÿ° ÿ®ŸÖÿ∑ÿßÿ± ÿßŸÑÿØŸàÿßÿØŸÖŸä", en: "Construction of 2 Electrical Distribution Rooms at Al-Dawadmi Airport" },
    managers: { ar: "ÿ£ÿ≠ŸÖÿØ ÿ≠ŸÖÿØŸä", en: "Ahmed Hamdy" },
    phone: "548910320",
    value: 997673.88
  },
  {
    names: { ar: "ÿ™Ÿàÿ±ŸäÿØ Ÿàÿ™ÿ±ŸÉŸäÿ® ÿ≠ŸàÿßŸÖŸÑ ÿßŸÑŸÉÿßÿ®ŸÑÿßÿ™ ÿ®ÿ±ÿ§Ÿâ ÿßŸÑŸÖÿØŸäŸÜÿ© ", en: "Supply and Installation of Cable Trays at Ru'a Al Madinah" },
    managers: { ar: "ÿπÿ®ÿØÿßŸÑÿ±ÿ≠ŸÖŸÜ ÿ≤Ÿáÿ±ÿßŸÜ", en: "Abdulrahman Zahran" },
    phone: "508335348",
    value: 16438997.00
  },
  {
    names: { ar: "ŸÖÿ¥ÿ±Ÿàÿπ ÿ™ŸÜŸÅŸäÿ∞ ÿπÿ®ÿßÿ±ÿßÿ™ ŸÑÿ™ÿµÿ±ŸäŸÅ ŸÖŸäÿßŸá ÿßŸÑÿßŸÖÿ∑ÿßÿ± ÿ®ÿ£ÿ±ÿ∂ ÿ≠ÿ±ÿ≥ ÿßŸÑÿ≠ÿØŸàÿØ ÿ®ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿ±Ÿäÿßÿ∂ ( ÿ≠ÿ±ÿ≥ ÿßŸÑÿ≠ÿØŸàÿØ )", en: "Project for Construction of Box Culverts for Stormwater Drainage at the Border Guard Site in the Riyadh Region (Border Guard)" },
    managers: { ar: "", en: "" },
    phone: "",
    value: 494502.88
  },
  {
    names: { ar: "ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ£ŸÖŸÜ ŸàÿßŸÑÿ≥ŸÑÿßŸÖÿ© Ÿàÿ™ÿ±ŸÉŸäÿ® ÿßŸÑŸÉÿßŸÖŸäÿ±ÿßÿ™ ŸÑŸÖÿ®ŸÜŸâ ÿßŸÑÿ•ŸÖÿßÿ±ÿ© ŸàŸÖÿ¨ŸÖÿπ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ ŸàÿßŸÑÿµŸäÿßŸÜÿ© ŸàÿßŸÑŸÖÿ≥ÿ™ŸàÿØÿπÿßÿ™ ÿ®ÿßŸÑŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑÿµŸÜÿßÿπŸäÿ©", en: "Security and Safety Systems and CCTV Installation for the Emirate Building, the Operation and Maintenance Complex, and Warehouses in the Industrial Area" },
    managers: { ar: "ÿ∑ÿßÿ±ŸÇ ŸÜÿ¨ÿßÿ™Ÿä", en: "Tarek Najati" },
    phone: "596206318",
    value: 6459561.50
  },
  {
    names: { ar: "ÿßÿ≠ŸÑÿßŸÑ Ÿàÿ™ÿ≠ÿØŸäÿ´ ÿ£ŸÜÿ∏ŸÖÿ© ŸàŸÖÿ™ÿ∑ŸÑÿ®ÿßÿ™ ÿ£ÿπŸÖÿßŸÑ ÿßŸÑÿ≥ŸÑÿßŸÖÿ© ÿßŸÑÿßŸÖÿßŸÜÿ© ÿßŸÑÿπÿßŸÖÿ© ŸáŸäÿ¶ÿ© ÿßŸÑŸÖŸáŸÜÿØÿ≥ŸäŸÜ", en: "Replacement and Upgrading of Safety Systems and Works Requirements for the General Secretariat, Saudi Council of Engineers" },
    managers: { ar: "ÿ£ÿ≠ŸÖÿØ ÿ≠ŸÖÿØŸä", en: "Ahmed Hamdy" },
    phone: "548910320",
    value: 4593197.75
  },
  {
    names: { ar: "ÿ£ÿπŸÖÿßŸÑ ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿπÿßŸÖÿ© ÿ™ÿ¥ÿ∑Ÿäÿ® ŸÅŸä ÿßŸÑÿ£ŸÖÿßŸÜÿ© ÿßŸÑÿπÿßŸÖÿ© ŸÑŸÑŸáŸäÿ¶ÿ© ÿßŸÑÿ≥ÿπŸàÿØŸäÿ© ŸÑŸÑŸÖŸáŸÜÿØÿ≥ŸäŸÜ", en: "General Improvement and Finishing Works at the General Secretariat of the Saudi Council of Engineers" },
    managers: { ar: "ÿ£ÿ≠ŸÖÿØ ÿ≠ŸÖÿØŸä", en: "Ahmed Hamdy" },
    phone: "548910320",
    value: 803217.50
  },
  {
    names: { ar: "ÿ™Ÿàÿ±ŸäÿØ Ÿàÿ™ÿ±ŸÉŸäÿ® ŸÜÿ∏ÿßŸÖ ÿßŸÜÿ∞ÿßÿ± ÿßŸÑÿ≠ÿ±ŸäŸÇ ŸÅŸä ÿßŸÑŸÖÿ®ŸÜŸâ ÿßŸÑÿ¥ÿ±ŸÇŸä ÿ®ŸÖÿ≥ÿ™ÿ¥ŸÅŸâ ÿßŸÑŸÖŸÑŸÉ ŸÅŸáÿØ ÿ®ÿ¨ÿØÿ©", en: "Supply and Installation of a Fire Alarm System in the Eastern Building at King Fahd Hospital, Jeddah" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿπÿ∑ŸàÿßŸÜ", en: "Mohammed Atwan" },
    phone: "5978 9521",
    value: 787102.32
  },
  {
    names: { ar: "ÿµŸäÿßŸÜÿ© ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ≥ŸÑÿßŸÖÿ© ÿ®ÿ¨ÿßŸÖÿπÿ© ŸÜÿßŸäŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ŸÑŸÑÿπŸÑŸàŸÖ ÿßŸÑÿ£ŸÖŸÜŸäÿ©", en: "Maintenance of Safety Systems at Naif Arab University for Security Sciences" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿπÿ∑ŸàÿßŸÜ", en: "Mohammed Atwan" },
    phone: "5978 9521",
    value: 807300.00
  },
  {
    names: { ar: "ÿßÿ™ŸÅÿßŸÇŸäÿ© ÿµŸäÿßŸÜÿ© ÿ£ŸÜÿ∏ŸÖÿ© ÿßŸÑÿ•ŸÜÿ∞ÿßÿ± ŸàÿßŸÑÿ≠ÿ±ŸäŸÇ ÿ®ÿßŸÑŸÇÿ∑ÿßÿπ ÿßŸÑÿ¥ŸÖÿßŸÑŸä ÿßŸÑÿ∫ÿ±ÿ®Ÿä", en: "Maintenance Agreement for Fire Alarm and Firefighting Systems in the Northwestern Sector" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ŸÇÿßÿπŸàÿØ ŸÖÿ≠ŸÖÿØ", en: "Mohammed Qaoud Mohammed" },
    phone: "503061789",
    value: 4854207.50
  },
  {
    names: { ar: "ÿ™Ÿàÿ±ŸäÿØ Ÿàÿ™ÿ±ŸÉŸäÿ® ŸÜÿ∏ÿßŸÖ ŸÖŸÉÿßŸÅÿ≠ÿ© ÿßŸÑÿ≠ÿ±ŸäŸÇ ŸÅŸä ÿπŸäÿßÿØÿ© ÿßŸÑÿ±ÿπÿßŸäÿ© ÿßŸÑÿ£ŸàŸÑŸäÿ© ŸÅŸä ÿßŸÑŸÖÿØŸäŸÜÿ© ÿßŸÑŸÖŸÜŸàÿ±ÿ© ÿßŸÑÿ™ÿßÿ®ÿπÿ© ŸÑŸÑÿ¥ÿ§ŸàŸÜ ÿßŸÑÿµÿ≠Ÿäÿ© ÿ®Ÿàÿ≤ÿßÿ±ÿ© ÿßŸÑÿ≠ÿ±ÿ≥ ÿßŸÑŸàÿ∑ŸÜŸä", en: "Supply and Installation of a Firefighting System at the Primary Health Care Clinic in Al Madinah Al Munawwarah, affiliated with the Health Affairs, Ministry of the National Guard" },
    managers: { ar: "ÿßÿ≥ŸÑÿßŸÖ ÿ∑Ÿá ", en: "Islam Taha" },
    phone: "568238216",
    value: 2582095.00
  },
  {
    names: { ar: "ŸÖÿ¥ÿ±Ÿàÿπ ÿ™ÿ∑ŸàŸäÿ± Ÿàÿ™ÿ¨ÿØŸäÿØ ÿßŸÑŸÖŸÜÿßÿ∑ŸÇ ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉÿ© ŸÑÿ£ÿ®ÿ±ÿßÿ¨ ÿßŸÑÿ™ÿπÿßŸàŸÜŸäÿ©", en: "Project for Upgrading and Renovation of the Common Areas of Al-Taawunia Towers" },
    managers: { ar: "ŸÖÿ≠ŸÖÿØ ÿπÿ∑ŸàÿßŸÜ", en: "Mohammed Atwan" },
    phone: "5978 9521",
    value: 2633195.25
  }
];

projects.forEach(p => {
    p.managers.ar = p.managers.ar ? p.managers.ar.trim() : "";
    p.managers.en = p.managers.en ? p.managers.en.trim() : "";

p.phone = p.phone ? p.phone.replace(/\\s+/g,'') : "";
});

function getManagerImage(name) {
    return managerImages[name] || "";
}

function getInitials(name) {
    if (!name) return "";
    const parts = name.trim().split(" ");
    return parts.length === 1 ? parts[0].charAt(0) : parts[0].charAt(0) + parts[1].charAt(0);
}

function formatCurrency(value) {
    const locale = currentLang === 'ar' ? 'ar-SA' : 'en-US';
    const currencyText = currentLang === 'ar' ? ' ÿ±ŸäÿßŸÑ' : ' SAR';
    return value.toLocaleString(locale, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) + currencyText;
}

function renderProjects(list) {
  const container = document.getElementById("projectsContainer");
  const emptyState = document.getElementById("emptyState");
  container.innerHTML = "";

  if (!list.length) {
    emptyState.style.display = "block";
    return;
  }
  emptyState.style.display = "none";

  list.forEach((p) => {

    const managerNameAr = (p.managers?.ar || "").trim();

    const managerNameUI = (p.managers?.[currentLang] || "").trim();

    const imgUrl = getManagerImage(managerNameAr);
    const initials = getInitials(managerNameAr);

    const card = document.createElement("div");
    card.className = "project-card";

    card.innerHTML = `
      <div class="project-header">
        <div class="project-title">${p.names[currentLang] || ""}</div>
        <div class="project-image-wrapper" ${imgUrl ? `onclick="openImageModal('${imgUrl}')"` : ""}>
          ${
            imgUrl
              ? `<img src="${imgUrl}" alt="${managerNameUI || managerNameAr}" onerror="this.style.display='none';">`
              : `<div class="initials">${initials}</div>`
          }
        </div>
      </div>

      <div class="info-row">
        <div class="info-label">${i18n[currentLang].managerLabel}</div>
        <div class="info-value">${managerNameUI || "-"}</div>
      </div>

      <div class="contract-box">
        <div class="contract-label">${i18n[currentLang].contractLabel}</div>
        <div class="contract-value">${formatCurrency(p.value)}</div>
      </div>

      <div class="actions">
        <button class="btn btn-call" onclick="${p.phone ? `callManager('${p.phone}')` : ""}">
          <i class="bi bi-telephone-fill call-icon"></i> ${i18n[currentLang].callBtn}
        </button>
        <button class="btn btn-whatsapp" onclick="${p.phone ? `openWhatsApp('${p.phone}','${(p.names[currentLang] || "").replace(/'/g, "\\\\'")}')` : ""}">
          ${i18n[currentLang].whatsappBtn}
        </button>
      </div>
    `;

    container.appendChild(card);
  });
}

function callManager(phone) {

    let cleanedPhone = phone.replace(/\\D/g, "");

    if (cleanedPhone.startsWith("5")) {
        cleanedPhone = "0" + cleanedPhone;
    }

    if (!cleanedPhone.startsWith("05")) {
        alert("ÿßŸÑÿ±ŸÇŸÖ ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ ŸÑŸÑÿßÿ™ÿµÿßŸÑ ÿßŸÑŸÖÿ®ÿßÿ¥ÿ± ÿ®ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©: " + phone);
        return;
    }

    window.location.href = "tel:" + cleanedPhone;
}

function openWhatsApp(phone, projectName) {
    const msg = encodeURIComponent("ÿßŸÑÿ≥ŸÑÿßŸÖ ÿπŸÑŸäŸÉŸÖÿå ÿ®ÿÆÿµŸàÿµ ŸÖÿ¥ÿ±Ÿàÿπ: " + projectName);

    let cleanedPhone = phone.replace(/\\D/g, "");

    if (cleanedPhone.startsWith("0")) {
        cleanedPhone = cleanedPhone.substring(1);
    }

    if (!cleanedPhone.startsWith("966")) {
        cleanedPhone = "966" + cleanedPhone;
    }

    const url = "https://wa.me/" + cleanedPhone + "?text=" + msg;
    window.open(url, "_blank");
}

function updateSummary(list) {
    const totalCount = list.length;
    const totalValue = list.reduce((sum, p) => sum + (p.value || 0), 0);
    const values = list.filter(p => p.value > 0).map(p => p.value);

    document.getElementById("totalCount").textContent = totalCount;
    document.getElementById("totalValue").textContent = formatCurrency(totalValue);

    if (values.length) {
        const max = Math.max(...values);
        const min = Math.min(...values);
        const avg = values.reduce((s, v) => s + v, 0) / values.length;

        document.getElementById("maxContract").textContent = formatCurrency(max);
        document.getElementById("minContract").textContent = formatCurrency(min);
        document.getElementById("avgContract").textContent = formatCurrency(avg);
    }
}

function setupSearch() {
    document.getElementById("searchInput").addEventListener("input", (e) => {
        const q = e.target.value.trim().toLowerCase();
const filtered = projects.filter(p =>
  (p.names[currentLang] || "").toLowerCase().includes(q) ||
  (p.managers[currentLang] || "").toLowerCase().includes(q)
);
        renderProjects(filtered);
        updateSummary(filtered);
    });
}

function openImageModal(src) {
    const modal = document.getElementById("imageModal");
    document.getElementById("imageModalImg").src = src;
    modal.style.display = "flex";
}
function closeImageModal(event) {
  if (event.target.id === "imageModal") {
    const modal = document.getElementById("imageModal");
    const img = document.getElementById("imageModalImg");
    img.src = "";
    modal.style.display = "none";
  }
}

document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
        const modal = document.getElementById("imageModal");
        modal.style.display = "none";
        document.getElementById("imageModalImg").src = "";
    }
});

let isDark = localStorage.getItem("selectedTheme") === "dark";

document.getElementById("langToggle").addEventListener("click", () => {
  setLanguage(currentLang === "ar" ? "en" : "ar");
});

document.getElementById("themeToggle").addEventListener("click", () => {
  isDark = !isDark;

  document.body.classList.toggle("dark", isDark);
  document.getElementById("themeIcon").className =
    isDark ? "bi bi-moon-fill" : "bi bi-sun-fill";

  localStorage.setItem("selectedTheme", isDark ? "dark" : "light");
});

if (isDark) {
  document.body.classList.add("dark");
  document.getElementById("themeIcon").className = "bi bi-moon-fill";
}

updateSummary(projects);
setupSearch();
setLanguage(currentLang);</script></body></html>