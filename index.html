<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø´Ø±ÙƒØ©</title>
    <style>
        :root {
            --bg-color: #f4f6fb;
            --card-bg: #ffffff;
            --primary: #1f4f7f;
            --primary-soft: #e3edf7;
            --accent: #0a9f6c;
            --text-main: #1f2933;
            --text-muted: #6b7280;
            --border-soft: #e5e7eb;
            --shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.08);
            --radius-lg: 14px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: "Segoe UI", Tahoma, Arial, sans-serif;
        }

        body {
            background: radial-gradient(circle at top, #e0ebff 0, #f4f6fb 45%, #f9fafb 100%);
            color: var(--text-main);
            line-height: 1.6;
        }

        .page-wrapper {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 16px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 24px;
        }

        header h1 {
            font-size: 26px;
            color: var(--primary);
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        header p {
            font-size: 14px;
            color: var(--text-muted);
        }

        .toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            justify-content: space-between;
            margin: 24px 0 16px;
        }

        .toolbar-left,
        .toolbar-right {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 8px 32px 8px 10px;
            border-radius: 999px;
            border: 1px solid var(--border-soft);
            font-size: 13px;
            min-width: 230px;
            outline: none;
            background-color: #f9fafb;
        }

        .search-box input:focus {
            border-color: var(--primary);
            background-color: #ffffff;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.15);
        }

        .search-box span {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
            color: var(--text-muted);
        }

        .status-pill {
            padding: 5px 10px;
            border-radius: 999px;
            border: 1px solid var(--border-soft);
            background-color: #f9fafb;
            font-size: 12px;
            color: var(--text-muted);
        }

        .status-pill strong {
            color: var(--primary);
        }

        .view-toggle button {
            border-radius: 999px;
            border: 1px solid var(--border-soft);
            padding: 6px 12px;
            background-color: #f9fafb;
            color: var(--text-muted);
            font-size: 12px;
            cursor: pointer;
        }

        .view-toggle button.active {
            background-color: var(--primary);
            color: #ffffff;
            border-color: var(--primary);
        }

        .summary-bar {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 18px;
        }

        .summary-item {
            flex: 1 1 160px;
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 10px 14px;
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.04);
            border: 1px solid rgba(148, 163, 184, 0.25);
        }

        .summary-label {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        .summary-value {
            font-size: 15px;
            font-weight: 600;
            color: var(--primary);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }

        .project-card {
            background-color: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 14px 16px 12px;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(148, 163, 184, 0.35);
            position: relative;
            overflow: hidden;
        }

        .project-card::before {
            content: "";
            position: absolute;
            top: -40px;
            left: -40px;
            width: 110px;
            height: 110px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.06), transparent 65%);
            opacity: 0.9;
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 6px;
        }

        .project-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }

        .badge-status {
            font-size: 11px;
            padding: 3px 8px;
            border-radius: 999px;
            background-color: #ecfdf3;
            color: var(--accent);
            border: 1px solid rgba(16, 185, 129, 0.3);
            white-space: nowrap;
        }

        .badge-status.on-hold {
            background-color: #fef9c3;
            color: #854d0e;
            border-color: #fbbf24;
        }

        .badge-status.delivery {
            background-color: #eff6ff;
            color: #1d4ed8;
            border-color: #93c5fd;
        }

        .project-body {
            border-top: 1px dashed rgba(148, 163, 184, 0.5);
            margin-top: 6px;
            padding-top: 6px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 2px;
        }

        .info-label {
            color: var(--text-muted);
        }

        .info-value {
            color: var(--text-main);
            font-weight: 500;
        }

        .project-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            padding-top: 6px;
            border-top: 1px solid rgba(226, 232, 240, 0.8);
        }

        .contract-value {
            font-size: 13px;
            color: var(--primary);
            font-weight: 600;
        }

        .contract-label {
            font-size: 11px;
            color: var(--text-muted);
        }

        .actions {
            display: flex;
            gap: 6px;
        }

        .btn {
            border-radius: 999px;
            border: none;
            padding: 5px 10px;
            font-size: 11px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .btn-whatsapp {
            background-color: #22c55e;
            color: #ffffff;
        }

        .btn-whatsapp span.icon {
            font-size: 13px;
        }

        .btn-more {
            background-color: #eef2ff;
            color: #4f46e5;
        }

        .empty-state {
            text-align: center;
            color: var(--text-muted);
            padding: 40px 0;
            font-size: 14px;
        }

        @media (max-width: 600px) {
            .page-wrapper {
                margin-top: 24px;
            }

            header h1 {
                font-size: 22px;
            }

            .toolbar {
                align-items: flex-start;
            }

            .search-box input {
                width: 100%;
            }

            .project-card {
                padding: 12px 12px 10px;
            }
        }
    </style>
</head>
<body>
<div class="page-wrapper">
    <header>
        <h1>Ù„ÙˆØ­Ø© Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø´Ø±ÙƒØ©</h1>
        <p>Ø¹Ø±Ø¶ Ù…Ø¨Ø³Ø· ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¯ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø¯.</p>
    </header>

    <div class="toolbar">
        <div class="toolbar-left">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹..." />
                <span>ğŸ”</span>
            </div>
            <div class="status-pill">
                Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹: <strong id="totalCount">0</strong> | Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¹Ù‚ÙˆØ¯: <strong id="totalValue">0</strong> Ø±ÙŠØ§Ù„
            </div>
        </div>
        <div class="toolbar-right">
            <div class="view-toggle">
                <button class="active">Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</button>
            </div>
        </div>
    </div>

    <div class="summary-bar">
        <div class="summary-item">
            <div class="summary-label">Ø£Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø¹Ù‚Ø¯</div>
            <div class="summary-value" id="maxContract">0 Ø±ÙŠØ§Ù„</div>
        </div>
        <div class="summary-item">
            <div class="summary-label">Ø£Ù‚Ù„ Ù‚ÙŠÙ…Ø© Ø¹Ù‚Ø¯</div>
            <div class="summary-value" id="minContract">0 Ø±ÙŠØ§Ù„</div>
        </div>
        <div class="summary-item">
            <div class="summary-label">Ù…ØªÙˆØ³Ø· Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ù‚ÙˆØ¯</div>
            <div class="summary-value" id="avgContract">0 Ø±ÙŠØ§Ù„</div>
        </div>
    </div>

    <div id="projectsContainer" class="content-grid"></div>
    <div id="emptyState" class="empty-state" style="display: none;">
        Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ø¨Ø­Ø«Ùƒ Ø­Ø§Ù„ÙŠÙ‹Ø§.
    </div>
</div>

<script>
    const projects = [
        {
            name: "Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¥Ø³ÙƒØ§Ù† Ù…ÙˆØ¸ÙÙŠ Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…ÙˆØ§Ø³Ø§Ø© ( Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©)",
            manager: "Ø±Ø§Ù…ÙŠ Ø¹ÙŠØ¯ Ø¹Ø¨Ø¯ Ø§Ù„Ù‡Ø§Ø¯ÙŠ",
            phone: "0541168948",
            value: 49432843.15,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø³ÙƒÙ†ÙŠ Ù„Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø³Ø§Ø© (ÙŠÙ†Ø¨Ø¹)",
            manager: "Ø§Ø­Ù…Ø¯ Ù‚Ø§Ø¹ÙˆØ¯ Ù…Ø­Ù…Ø¯",
            phone: "0507768409",
            value: 31003934.45,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø§Ø³ØªÙƒÙ…Ø§Ù„ ØªÙ†ÙÙŠØ° Ø§Ù†Ø´Ø§Ø¡ Ù…Ù‚Ø± Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø¯Ù„Ù…",
            manager: "Ù…Ù†ØµÙˆØ± Ø¹Ù„ÙŠ Ø£Ø¨Ùˆ Ø§Ù„ÙŠÙ…ÙŠÙ† Ø­Ù†ÙÙŠ",
            phone: "0502751043",
            value: 53010770.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø£Ø¹Ù…Ø§Ù„ Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© Ø¨Ù…ÙŠÙ†Ø§Ø¡ Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø¨Ø§Ù„Ø¯Ù…Ø§Ù…",
            manager: "Ù…Ø­Ù…ÙˆØ¯ ÙÙŠØ§Ø¶",
            phone: "0594118590",
            value: 4801169.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªØ·ÙˆÙŠØ± Ù‚Ø§Ø¹Ø© Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù†Ø§Ø¯Ø±Ø© ÙˆÙ‚Ø§Ø¹Ø© Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ",
            manager: "Ù…Ø­Ù…Ø¯ Ù…ØµØ·ÙÙ‰ Ù…Ø­Ù…Ø¯",
            phone: "0548242049",
            value: 2293991.25,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠ Ø±Ù‚Ù… (6) Ø¨Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ",
            manager: "Ù…Ø­Ù…Ø¯ Ù…ØµØ·ÙÙ‰ Ù…Ø­Ù…Ø¯",
            phone: "0548242049",
            value: 4972723.63,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø§Ù†Ø´Ø§Ø¡ Ù…Ù‚Ø± Ù†Ø§Ø¯ÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø¨Ø§Ù„Ù‚ÙˆÙŠØ¹ÙŠØ©",
            manager: "Ø£Ø­Ù…Ø¯ ÙŠÙˆØ³Ù Ø¹Ø²ÙŠØ²",
            phone: "0564517322",
            value: 55888358.89,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø®Ø¯Ù…Ø§Øª Ø¥Ø¯Ø§Ø±Ø© ÙˆØµÙŠØ§Ù†Ø© Ø§Ù„Ù…Ø±Ø§ÙÙ‚ ÙˆØ§Ù„Ù†Ø¸Ø§ÙØ© ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ Ù†Ø§Ø¯ÙŠ Ø§Ù„ØµÙ‚ÙˆØ±",
            manager: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† ØµØ¨Ø­ÙŠ",
            phone: "0580774713",
            value: 15745800.00,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ù…Ø´Ø±ÙˆØ¹ Ø®Ø§Ø¯Ù… Ø§Ù„Ø­Ø±Ù…ÙŠÙ† Ø§Ù„Ø´Ø±ÙŠÙÙŠÙ† Ù„Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„ÙÙˆØ±ÙŠØ© Ø¨Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø§Ù„Ù†Ø¨ÙˆÙŠ",
            manager: "Ù…Ø­Ù…Ø¯ Ù…ØµØ·ÙÙ‰ Ù…Ø­Ù…Ø¯",
            phone: "0548242049",
            value: 10429358.29,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªØ·ÙˆÙŠØ± Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆÙ…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±ÙŠÙ‚ Ù„Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø­Ø³Ù† Ø¨Ø§Ù„Ø¹Ù„Ø§",
            manager: "Ù…Ø­Ù…ÙˆØ¯ Ø­Ø¨ÙŠØ¨",
            phone: "0550835925",
            value: 4495033.75,
            status: "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¨Ø¹Ø¯ Ø§Ù„ØªÙˆÙ‚Ù"
        },
        {
            name: "ØªØ£Ù‡ÙŠÙ„ Ø¬Ø§Ù…Ø¹ Ø¹Ø§Ø¦Ø´Ø© Ø§Ù„Ø±Ø§Ø¬Ø­ÙŠ Ù…ÙƒØ© ÙˆÙ…Ù„Ø­Ù‚Ø§ØªÙ‡ - Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©",
            manager: "Ù…ØµØ·ÙÙ‰ Ø®Ø¶Ø±",
            phone: "0568846328",
            value: 6058269.00,
            status: "Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ"
        },
        {
            name: "Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ù…ÙˆØ­Ø¯ Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø³ÙƒÙ†ÙŠØ© (Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…Ù…Ù„ÙƒØ©)",
            manager: "Ù…Ø­Ù…ÙˆØ¯ Ø³Ø¹ÙŠØ¯",
            phone: "0582985458",
            value: 18090247.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ÙˆØ±Ø´Ø© ØµÙŠØ§Ù†Ø© Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø¨Ù…Ø·Ø§Ø± Ø§Ù„Ø¯Ù…Ø§Ù… GSE Workshop",
            manager: "Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø­Ø±Ø§ÙˆÙŠ",
            phone: "0550758051",
            value: 25300000.00,
            status: "Ù…Ø±Ø­Ù„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ØªØµØ§Ø±ÙŠØ­ ÙˆØ§Ù†Ø´Ø§Ø¡ Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ø¤Ù‚Øª"
        },
        {
            name: "Ø§ØªÙØ§Ù‚ÙŠØ© ØªØ±Ù…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø¹Ø§Ù…Ø©",
            manager: "Ù…Ø­Ù…ÙˆØ¯ Ù†ØµØ±",
            phone: "0568958968",
            value: 32652599.97,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø¯Ø¯ 2 ØºØ±Ù ØªÙˆØ²ÙŠØ¹ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø¨Ù…Ø·Ø§Ø± Ø§Ù„Ø¯ÙˆØ§Ø¯Ù…ÙŠ",
            manager: "Ø¬Ø§Ø±ÙŠ",
            phone: "",
            value: 997673.88,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ø­ÙˆØ§Ù…Ù„ Ø§Ù„ÙƒØ§Ø¨Ù„Ø§Øª Ø¨Ø±Ø¤Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©",
            manager: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø²Ù‡Ø±Ø§Ù†",
            phone: "0508335348",
            value: 18000000,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØªØ±ÙƒÙŠØ¨ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¥Ù…Ø§Ø±Ø© ÙˆÙ…Ø¬Ù…Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ ÙˆØ§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª Ø¨Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©",
            manager: "Ø¹Ù„Ø§Ø¡ Ø§Ù„Ø¯ÙŠÙ† Ø¹ÙŠØ¯ Ø²ÙŠÙ†Ù‡Ù…",
            phone: "0596206318",
            value: 6459561.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø§Ø­Ù„Ø§Ù„ ÙˆØªØ­Ø¯ÙŠØ« Ø£Ù†Ø¸Ù…Ø© ÙˆÙ…ØªØ·Ù„Ø¨Ø§Øª Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø§Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù‡ÙŠØ¦Ø© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†",
            manager: "Ø£Ø­Ù…Ø¯ Ø­Ù…Ø¯ÙŠ",
            phone: "0548910320",
            value: 4593197.75,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø£Ø¹Ù…Ø§Ù„ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¹Ø§Ù…Ø© ØªØ´Ø·ÙŠØ¨ ÙÙŠ Ø§Ù„Ø£Ù…Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†",
            manager: "Ø£Ø­Ù…Ø¯ Ø­Ù…Ø¯ÙŠ",
            phone: "0548910320",
            value: 803217.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ø§Ù†Ø°Ø§Ø± Ø§Ù„Ø­Ø±ÙŠÙ‚ ÙÙŠ Ø§Ù„Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø´Ø±Ù‚ÙŠ Ø¨Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù…Ù„Ùƒ ÙÙ‡Ø¯ Ø¨Ø¬Ø¯Ø©",
            manager: "",
            phone: "",
            value: 787102.32,
            status: "ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø¯"
        },
        {
            name: "ØµÙŠØ§Ù†Ø© Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø¨Ø¬Ø§Ù…Ø¹Ø© Ù†Ø§ÙŠÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø£Ù…Ù†ÙŠØ©",
            manager: "Ù…Ø­Ù…Ø¯ Ø¹Ø·ÙˆØ§Ù†",
            phone: "0597859521",
            value: 807300.00,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ø§ØªÙØ§Ù‚ÙŠØ© ØµÙŠØ§Ù†Ø© Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¥Ù†Ø°Ø§Ø± ÙˆØ§Ù„Ø­Ø±ÙŠÙ‚ Ø¨Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ Ø§Ù„ØºØ±Ø¨ÙŠ",
            manager: "Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø¹ÙˆØ¯ Ù…Ø­Ù…Ø¯",
            phone: "0503061789",
            value: 4854207.50,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "ØªÙˆØ±ÙŠØ¯ ÙˆØªØ±ÙƒÙŠØ¨ Ù†Ø¸Ø§Ù… Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø­Ø±ÙŠÙ‚ ÙÙŠ Ø¹ÙŠØ§Ø¯Ø© Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø© Ø§Ù„ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„ØµØ­ÙŠØ© Ø¨ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ø­Ø±Ø³ Ø§Ù„ÙˆØ·Ù†ÙŠ",
            manager: "Ø§Ø³Ù„Ø§Ù… Ø·Ù‡",
            phone: "0568238216",
            value: 2582095.00,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        },
        {
            name: "Ù…Ø´Ø±ÙˆØ¹ ØªØ·ÙˆÙŠØ± ÙˆØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…Ø´ØªØ±ÙƒØ© Ù„Ø£Ø¨Ø±Ø§Ø¬ Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠØ©",
            manager: "",
            phone: "",
            value: 2633195.30,
            status: "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
        }
    ];

    function formatCurrency(value) {
        return value.toLocaleString("ar-EG", {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        }) + " Ø±ÙŠØ§Ù„";
    }

    function getStatusClass(status) {
        if (status.includes("Ø§Ù„ØªØ³Ù„ÙŠÙ…")) return "badge-status delivery";
        if (status.includes("ØªÙˆÙ‚Ù")) return "badge-status on-hold";
        if (status.includes("ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø¹Ù‚Ø¯")) return "badge-status on-hold";
        return "badge-status";
    }

    function renderProjects(list) {
        const container = document.getElementById("projectsContainer");
        const emptyState = document.getElementById("emptyState");
        container.innerHTML = "";

        if (!list.length) {
            emptyState.style.display = "block";
            return;
        } else {
            emptyState.style.display = "none";
        }

        list.forEach((p) => {
            const card = document.createElement("div");
            card.className = "project-card";

            card.innerHTML = `
                <div class="project-header">
                    <div class="project-title">${p.name}</div>
                    <div class="${getStatusClass(p.status)}">${p.status}</div>
                </div>
                <div class="project-body">
                    <div class="info-row">
                        <div class="info-label">Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</div>
                        <div class="info-value">${p.manager || "-"}</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</div>
                        <div class="info-value">${p.phone || "-"}</div>
                    </div>
                </div>
                <div class="project-footer">
                    <div>
                        <div class="contract-label">Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ù‚Ø¯</div>
                        <div class="contract-value">${formatCurrency(p.value)}</div>
                    </div>
                    <div class="actions">
                        ${
                            p.phone
                                ? `<button class="btn btn-whatsapp" onclick="openWhatsApp('${p.phone}', '${p.name}')">
                                       <span class="icon">ğŸ’¬</span> ÙˆØ§ØªØ³Ø§Ø¨
                                   </button>`
                                : ""
                        }
                        <button class="btn btn-more">ØªÙØ§ØµÙŠÙ„</button>
                    </div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    function openWhatsApp(phone, projectName) {
        const msg = encodeURIComponent("Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø¨Ø®ØµÙˆØµ Ù…Ø´Ø±ÙˆØ¹: " + projectName);
        const url = "https://wa.me/" + phone.replace(/^0+/, "") + "?text=" + msg;
        window.open(url, "_blank");
    }

    function updateSummary(list) {
        const totalCount = list.length;
        const totalValue = list.reduce((sum, p) => sum + (p.value || 0), 0);
        const values = list.map((p) => p.value || 0).filter((v) => v > 0);

        document.getElementById("totalCount").textContent = totalCount;
        document.getElementById("totalValue").textContent = formatCurrency(totalValue);

        if (values.length) {
            const max = Math.max(...values);
            const min = Math.min(...values);
            const avg = values.reduce((s, v) => s + v, 0) / values.length;

            document.getElementById("maxContract").textContent = formatCurrency(max);
            document.getElementById("minContract").textContent = formatCurrency(min);
            document.getElementById("avgContract").textContent = formatCurrency(avg);
        }
    }

    function setupSearch() {
        const input = document.getElementById("searchInput");
        input.addEventListener("input", () => {
            const q = input.value.trim().toLowerCase();
            const filtered = projects.filter((p) => {
                return (
                    p.name.toLowerCase().includes(q) ||
                    p.manager.toLowerCase().includes(q)
                );
            });
            renderProjects(filtered);
            updateSummary(filtered);
        });
    }

    renderProjects(projects);
    updateSummary(projects);
    setupSearch();
</script>
</body>
</html>
